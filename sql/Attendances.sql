/*
 * SQL to create Attendances table.
 * Stores attendance details associated with maternity records.
 * Assumes table does not already exist.
 * Based on Maternity Data Model Version 0.6
 *
 * MAK 04-01-2018: First version
 */

/* Create table
 */
CREATE TABLE Attendances (
 AttendanceID INTEGER NOT NULL,
 MaternityRecordID INTEGER NOT NULL,
 DateRecorded DATE NOT NULL,
 LocationRecorded TEXT NOT NULL,
 -- PerformerID ???
 PerformerName TEXT NOT NULL,
 PerformerJobRole TEXT NOT NULL,        -- Should be coded
 Indication TEXT;
 ContactType VARCHAR(2),                -- Coded
 ConsultationMethod VARCHAR(2),         -- Coded
 Speciality VARCHAR(3),                 -- Coded
 Service VARCHAR(2),                    -- Coded
 -- Care professionals present 0..*
 PersonAccompanyingPatient VARCHAR(10), -- Coded
 Outcome VARCHAR(5),                    -- Coded
 UStamp VARCHAR(20) NOT NULL,
 DTStamp TIMESTAMP NOT NULL,
 CONSTRAINT PK_Attendances PRIMARY KEY (AttendanceID),
 CONSTRAINT FK_Attendances_MaternityRecords FOREIGN KEY (MaternityRecordID) REFERENCES MaternityRecords(MaternityRecordID)
);

/* Insert Attendances related codelists
 */
INSERT INTO CodeLists VALUES (6, 'Attendances', 'ContactType', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO CodeLists VALUES (7, 'Attendances', 'ConsultationMethod', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO CodeLists VALUES (8, 'Attendances', 'Speciality', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO CodeLists VALUES (9, 'Attendances', 'Service', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO CodeLists VALUES (10, 'Attendances', 'PersonAccompanyingPatient', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO CodeLists VALUES (11, 'Attendances', 'Outcome', 'SYSTEM', '2018-01-01 01:00:00');

/* Insert Attendances related codes
 */
INSERT INTO Codes VALUES (62, 6, '1', 'Accident and Emergency Attendance', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (63, 6, '4', 'Cancer Clinical Status Assessment', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (64, 6, '5', 'Care Programme Approach Review', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (65, 6, '6', 'Clinic Attendance Consultant', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (66, 6, '8', 'Clinic Attendance Midwife', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (67, 6, '9', 'Clinic Attendance Non-Consultant', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (68, 6, '10', 'Clinic Attendance Nurse', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (69, 6, '14', 'Domiciliary Consultation', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (70, 6, '22', 'Sexual and Reproductive Health Domiciliary Visit', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (71, 6, '23', 'Genitourinary Consultant Clinic Attendance', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (72, 6, '27', 'Maternity Domiciliary Visit', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (73, 6, '29', 'Nurse or Midwife Contact', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (74, 6, '30', 'Out-Patient Attendance Consultant', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (75, 6, '38', 'Theatre Case', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (76, 6, '39', 'Ward Attendance', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (77, 6, '41', 'Improving Access to Psychological Therapies Contact', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (78, 6, '42', 'NHS Health Check Assessment', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (79, 6, '43', 'Antenatal Booking Appointment', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (80, 6, '44', 'Pregnancy First Contact', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (81, 6, '45', 'Nutritional Assessment', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (82, 6, '46', 'HIV Clinic Attendance', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (83, 6, '47', 'Multi-Disciplinary Consultation (National Tariff Payment System)', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (84, 6, '48', 'Multi-Professional Consultation (National Tariff Payment System)', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (85, 6, '49', 'Two Year Neonatal Outcomes Assessment', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (86, 6, '50', 'Radiotherapy Attendance', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (87, 6, '51', 'Holistic Needs Assessment', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (88, 6, '52', 'Emergency Care Attendance', 'SYSTEM', '2018-01-01 01:00:00');

INSERT INTO Codes VALUES (89, 7, '1', 'Face to face communication', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (90, 7, '2', 'Telephone', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (91, 7, '3', 'Telemedicine web camera', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (92, 7, '4', 'Talk type for a PERSON unable to speak', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (93, 7, '5', 'Email **', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (94, 7, '6', 'Short Message Service (SMS) - Text Messaging **', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (95, 7, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');

-- Surgical Specialties 	
INSERT INTO Codes VALUES (96, 8, '100', 'GENERAL SURGERY', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (97, 8, '101', 'UROLOGY', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (98, 8, '110', 'TRAUMA & ORTHOPAEDICS', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (99, 8, '120', 'ENT', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (100, 8, '130', 'OPHTHALMOLOGY', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (101, 8, '140', 'ORAL SURGERY', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (102, 8, '141', 'RESTORATIVE DENTISTRY', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (103, 8, '142', 'PAEDIATRIC DENTISTRY', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (104, 8, '143', 'ORTHODONTICS', 'SYSTEM', '2018-01-01 01:00:00');
INSERT INTO Codes VALUES (105, 8, '145', 'ORAL & MAXILLO FACIAL SURGERY', 'SYSTEM', '2018-01-01 01:00:00');
146	ENDODONTICS
INSERT INTO Codes VALUES (106, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
147	PERIODONTICS
INSERT INTO Codes VALUES (107, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
148	PROSTHODONTICS
INSERT INTO Codes VALUES (108, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
149	SURGICAL DENTISTRY
INSERT INTO Codes VALUES (109, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
150	NEUROSURGERY
INSERT INTO Codes VALUES (110, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
160	PLASTIC SURGERY
INSERT INTO Codes VALUES (111, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
170	CARDIOTHORACIC SURGERY
INSERT INTO Codes VALUES (112, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
171	PAEDIATRIC SURGERY
INSERT INTO Codes VALUES (113, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
180	ACCIDENT & EMERGENCY
INSERT INTO Codes VALUES (114, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
-- Medical Specialties 	
190	ANAESTHETICS
INSERT INTO Codes VALUES (115, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
192	CRITICAL CARE MEDICINE
INSERT INTO Codes VALUES (116, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
300	GENERAL MEDICINE
INSERT INTO Codes VALUES (117, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
301	GASTROENTEROLOGY
INSERT INTO Codes VALUES (118, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
302	ENDOCRINOLOGY
INSERT INTO Codes VALUES (119, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
303	CLINICAL HAEMATOLOGY
INSERT INTO Codes VALUES (120, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
304	CLINICAL PHYSIOLOGY
INSERT INTO Codes VALUES (121, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
305	CLINICAL PHARMACOLOGY
INSERT INTO Codes VALUES (122, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
310	AUDIOLOGICAL MEDICINE
INSERT INTO Codes VALUES (123, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
311	CLINICAL GENETICS
INSERT INTO Codes VALUES (124, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
313	CLINICAL IMMUNOLOGY and ALLERGY
INSERT INTO Codes VALUES (125, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
314	REHABILITATION
INSERT INTO Codes VALUES (126, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
315	PALLIATIVE MEDICINE
INSERT INTO Codes VALUES (127, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
320	CARDIOLOGY
INSERT INTO Codes VALUES (128, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
321	PAEDIATRIC CARDIOLOGY
INSERT INTO Codes VALUES (129, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
325	SPORT AND EXERCISE MEDICINE
INSERT INTO Codes VALUES (130, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
326	ACUTE INTERNAL MEDICINE
INSERT INTO Codes VALUES (131, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
330	DERMATOLOGY
INSERT INTO Codes VALUES (132, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
340	RESPIRATORY MEDICINE (also known as thoracic medicine)
INSERT INTO Codes VALUES (133, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
350	INFECTIOUS DISEASES
INSERT INTO Codes VALUES (134, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
352	TROPICAL MEDICINE
INSERT INTO Codes VALUES (135, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
360	GENITOURINARY MEDICINE
INSERT INTO Codes VALUES (136, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
361	NEPHROLOGY
INSERT INTO Codes VALUES (137, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
370	MEDICAL ONCOLOGY
INSERT INTO Codes VALUES (138, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
371	NUCLEAR MEDICINE
INSERT INTO Codes VALUES (139, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
400	NEUROLOGY
INSERT INTO Codes VALUES (140, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
401	CLINICAL NEURO-PHYSIOLOGY
INSERT INTO Codes VALUES (141, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
410	RHEUMATOLOGY
INSERT INTO Codes VALUES (142, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
420	PAEDIATRICS
INSERT INTO Codes VALUES (143, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
421	PAEDIATRIC NEUROLOGY
INSERT INTO Codes VALUES (144, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
430	GERIATRIC MEDICINE
INSERT INTO Codes VALUES (145, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
450	DENTAL MEDICINE SPECIALTIES
INSERT INTO Codes VALUES (146, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
451	SPECIAL CARE DENTISTRY
INSERT INTO Codes VALUES (147, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
460	MEDICAL OPHTHALMOLOGY
INSERT INTO Codes VALUES (148, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
500	OBSTETRICS and GYNAECOLOGY
INSERT INTO Codes VALUES (149, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
501	OBSTETRICS
INSERT INTO Codes VALUES (150, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
502	GYNAECOLOGY
INSERT INTO Codes VALUES (151, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
504	COMMUNITY SEXUAL AND REPRODUCTIVE HEALTH
INSERT INTO Codes VALUES (152, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
560	MIDWIFE EPISODE
INSERT INTO Codes VALUES (153, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
600	GENERAL MEDICAL PRACTICE
INSERT INTO Codes VALUES (154, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
601	GENERAL DENTAL PRACTICE
INSERT INTO Codes VALUES (155, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
-- Psychiatry 	
700	LEARNING DISABILITY
INSERT INTO Codes VALUES (156, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
710	ADULT MENTAL ILLNESS
INSERT INTO Codes VALUES (157, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
711	CHILD and ADOLESCENT PSYCHIATRY
INSERT INTO Codes VALUES (158, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
712	FORENSIC PSYCHIATRY
INSERT INTO Codes VALUES (159, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
713	PSYCHOTHERAPY
INSERT INTO Codes VALUES (160, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
715	OLD AGE PSYCHIATRY
INSERT INTO Codes VALUES (161, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
-- Radiology 	
800	CLINICAL ONCOLOGY (previously RADIOTHERAPY)
INSERT INTO Codes VALUES (162, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
810	RADIOLOGY
INSERT INTO Codes VALUES (163, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
-- Pathology 	
820	GENERAL PATHOLOGY
INSERT INTO Codes VALUES (164, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
821	BLOOD TRANSFUSION
INSERT INTO Codes VALUES (165, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
822	CHEMICAL PATHOLOGY
INSERT INTO Codes VALUES (166, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
823	HAEMATOLOGY
INSERT INTO Codes VALUES (167, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
824	HISTOPATHOLOGY
INSERT INTO Codes VALUES (168, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
830	IMMUNOPATHOLOGY
INSERT INTO Codes VALUES (169, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
831	MEDICAL MICROBIOLOGY AND VIROLOGY
INSERT INTO Codes VALUES (170, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
833	MEDICAL MICROBIOLOGY (also known as MICROBIOLOGY AND BACTERIOLOGY)
INSERT INTO Codes VALUES (171, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
834	MEDICAL VIROLOGY
INSERT INTO Codes VALUES (172, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
-- Other 	
900	COMMUNITY MEDICINE
INSERT INTO Codes VALUES (173, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
901	OCCUPATIONAL MEDICINE
INSERT INTO Codes VALUES (174, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
902	COMMUNITY HEALTH SERVICES DENTAL
INSERT INTO Codes VALUES (175, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
903	PUBLIC HEALTH MEDICINE
INSERT INTO Codes VALUES (176, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
904	PUBLIC HEALTH DENTAL
INSERT INTO Codes VALUES (177, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
950	NURSING EPISODE
INSERT INTO Codes VALUES (178, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');
960	ALLIED HEALTH PROFESSIONAL EPISODE
INSERT INTO Codes VALUES (179, 8, '98', 'Other *', 'SYSTEM', '2018-01-01 01:00:00');

